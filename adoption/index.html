<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-adoption">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Adoption | Housing Repairs Online</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://city-of-lincoln-council.github.io/housing-repairs-online/adoption"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Adoption | Housing Repairs Online"><meta data-rh="true" name="description" content="Code Repositories"><meta data-rh="true" property="og:description" content="Code Repositories"><link data-rh="true" rel="icon" href="/housing-repairs-online/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://city-of-lincoln-council.github.io/housing-repairs-online/adoption"><link data-rh="true" rel="alternate" href="https://city-of-lincoln-council.github.io/housing-repairs-online/adoption" hreflang="en"><link data-rh="true" rel="alternate" href="https://city-of-lincoln-council.github.io/housing-repairs-online/adoption" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/housing-repairs-online/blog/rss.xml" title="Housing Repairs Online RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/housing-repairs-online/blog/atom.xml" title="Housing Repairs Online Atom Feed"><link rel="stylesheet" href="/housing-repairs-online/assets/css/styles.fcf2348f.css">
<link rel="preload" href="/housing-repairs-online/assets/js/runtime~main.8dfc1bf0.js" as="script">
<link rel="preload" href="/housing-repairs-online/assets/js/main.429b1ddb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/housing-repairs-online/"><div class="navbar__logo"><img src="/housing-repairs-online/img/logo.svg" alt="Housing Repairs Online Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/housing-repairs-online/img/logo.svg" alt="Housing Repairs Online Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Housing Repairs Online</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/housing-repairs-online/">Documentation</a><a href="https://repairsonlinedigitalfund.com/blog/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/City-of-Lincoln-Council/housing-repairs-online" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/housing-repairs-online/apis/">APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/housing-repairs-online/">Housing Repairs Online</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/housing-repairs-online/front-end/frameworks-used">Front End</a><button aria-label="Toggle the collapsible sidebar category &#x27;Front End&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/housing-repairs-online/repairs-api/intro">Repairs API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Repairs API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/housing-repairs-online/scheduling-api/intro">Scheduling API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scheduling API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/housing-repairs-online/housing-management-system-api/intro">Housing Management System API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Housing Management System API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/housing-repairs-online/alerting-and-monitoring/intro">Alerting &amp; Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/housing-repairs-online/adoption">Adoption</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/housing-repairs-online/category/spikes">Spikes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Spikes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/housing-repairs-online/application-security/intro">Application Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/housing-repairs-online/decisions/">Architecture Decision Records (ADRs)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture Decision Records (ADRs)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/housing-repairs-online/address-ingestion/">Address Ingestion</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/housing-repairs-online/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Adoption</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Adoption</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="code-repositories">Code Repositories<a class="hash-link" href="#code-repositories" title="Direct link to heading">​</a></h2><p>Clone/fork the following repositories:</p><ul><li><a href="https://github.com/City-of-Lincoln-Council/housing-repairs-online" target="_blank" rel="noopener noreferrer">housing-repairs-online</a></li><li><a href="https://github.com/City-of-Lincoln-Council/housing-repairs-online-frontend" target="_blank" rel="noopener noreferrer">housing-repairs-online-frontend</a></li><li><a href="https://github.com/City-of-Lincoln-Council/housing-repairs-online-api" target="_blank" rel="noopener noreferrer">housing-repairs-online-api</a></li><li><a href="https://github.com/City-of-Lincoln-Council/HousingRepairsSchedulingApi" target="_blank" rel="noopener noreferrer">HousingRepairsSchedulingApi</a></li><li><a href="https://github.com/City-of-Lincoln-Council/HousingManagementSystemApi" target="_blank" rel="noopener noreferrer">HousingManagementSystemApi</a></li><li><a href="https://github.com/City-of-Lincoln-Council/HACT.Dtos" target="_blank" rel="noopener noreferrer">HACT.Dtos</a></li><li><a href="https://github.com/City-of-Lincoln-Council/HousingRepairsOnline.Authentication" target="_blank" rel="noopener noreferrer">HousingRepairsOnline.Authentication</a></li></ul><p>The latter 2 produce Nuget packages, which if made public, could remove the need to clone their repositories.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nugets">Nugets<a class="hash-link" href="#nugets" title="Direct link to heading">​</a></h2><p><a href="https://github.com/City-of-Lincoln-Council/HACT.Dtos" target="_blank" rel="noopener noreferrer">HACT.Dtos</a> and <a href="https://github.com/City-of-Lincoln-Council/HousingRepairsOnline.Authentication" target="_blank" rel="noopener noreferrer">HousingRepairsOnline.Authentication</a> produce Nuget packages which are consumed by other components.</p><p>Each repository contains setup instructions which can be followed to establish connectivity.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure">Infrastructure<a class="hash-link" href="#infrastructure" title="Direct link to heading">​</a></h2><p>Azure is the supported Cloud platform.</p><p>Create the following resouces in Azure:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apis">APIs<a class="hash-link" href="#apis" title="Direct link to heading">​</a></h3><ul><li>Azure app service plan<ul><li>Consider which service plan would best suit the needs. Premium V2 (P1v2: 1) is recommended</li><li>Use a region which is geographically close to the users/residents and the 3rd party data</li></ul></li><li>Azure app service for each API<ul><li>Create a &#x27;staging&#x27; deployment slot</li><li>Each app service (and it&#x27;s deployment slot) will have a publish profile which needs to be added to the repository secrets<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></li></ul></li><li>Cosmos DB<ul><li>2 databases - production and staging</li><li>Each with <code>repair-requests</code> collections</li></ul></li><li>Blob storage account<ul><li>Create 2 containers - production and staging for the storage of user-uploaded images</li><li>Create a container for Terraform State Storage - &#x27;tfstate&#x27;</li><li>Create a container for insight report address .csv files: &#x27;insight-report-addresses&#x27;</li></ul></li><li>Resource Provider Registrations<ul><li>Some resources require that the subscription is registered to use their respective namespace.</li><li>Key vault and managed identity are examples of such resources. See <a href="/housing-repairs-online/application-security/intro">here</a>.</li></ul></li><li>Key Vault<ul><li>Consider whether to have a key vault per environment e.g Staging API key vault, Production API key vault.</li><li>Create a key vault for each API at least, best practice is not to have one key vault to hold all secrets.</li><li>Seperate the key vaults appropriately based on needs, cost and use.</li></ul></li><li>Managed Identity for Key Vault<ul><li>Create a managed identity for each API (would recommend creating a user assigned identity).</li><li>Add key vault permissions to the identity so that the attached app service has access the relevant key vault.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="frontend">Frontend<a class="hash-link" href="#frontend" title="Direct link to heading">​</a></h3><ul><li>Create Azure Static Web App<ul><li>A deployment token will need to be added to the repository secrets<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></li></ul></li><li><strong>(Optional)</strong> Add a custom domain to the Azure Static Web App<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup><ul><li>e.g. <code>repairs.abc_council.test.uk</code></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-to-azure">Deploying to Azure<a class="hash-link" href="#deploying-to-azure" title="Direct link to heading">​</a></h2><p>An Azure service principal is an identity created that can be used for automated tools such as GitHub actions to access Azure resources. This access is restricted by the roles assigned to the service principal, giving you control over which resources can be accessed and at which level. In order to assign access to the service principal, you must have the necessary access to so.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-service-principal">Create a service principal<a class="hash-link" href="#create-a-service-principal" title="Direct link to heading">​</a></h3><ol><li>Ask your subscription administrator to add you to the User Access Administrator role. <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#check-azure-subscription-permissions" target="_blank" rel="noopener noreferrer">See documentation</a>. (<em>If the subscription administrator is creating the service principal, ensure that you request the environment variables as specified in the Adding GitHub actions job and secrets step</em>)</li><li>Create the service principal. <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#register-an-application-with-azure-ad-and-create-a-service-principal" target="_blank" rel="noopener noreferrer">See documentation</a>.</li><li>Assign a role to the service principal as per <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#assign-a-role-to-the-application" target="_blank" rel="noopener noreferrer">this documentation</a>. If you are not able to do this, contact your subscription administrator as you do not have the permission to do so</li><li>Create a client secret for your service principal. <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#option-2-create-a-new-application-secret" target="_blank" rel="noopener noreferrer">See documentation</a>. Make sure to keep a note of the secret or copy it to your clipboard</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="terraform-state-storage">Terraform state storage<a class="hash-link" href="#terraform-state-storage" title="Direct link to heading">​</a></h3><p>Terraform is an infrastructure as code tool which we will be using to provision the Azure resources to deploy our application. Terraform needs to be able to store its state so it is aware of what resources it has created/destroyed/updated etc. This state will be stored remotely in an Azure storage container. Complete the following steps in the Azure web portal to create the storage container:</p><ol><li>Create a resource group for your infrastructure or use an existing one where your resources can be deployed. This resource group will be used for all other resources you provision so you should make it generic, e.g. <code>housing-repairs-online</code>. Add the resource group name and location as <code>RESOURCE_GROUP_NAME</code> and <code>RESOURCE_GROUP_LOCATION</code> respectively to github actions secrets.</li><li>Create a storage account use the resource group you created above. Add the name of the storage account you created to github secrets as <code>STORAGE_ACCOUNT_NAME</code>.</li><li>In that storage account, create a container called <code>tfstate</code>. This is where your state files will live. Create a github action secret called <code>CONTAINER_NAME</code> with the value <code>tfstate</code></li><li>Create github actions secret called <code>STATE_KEY_NAME</code> with the value <code>{SERVICE_NAME}.tfstate</code></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-github-actions-job-and-secrets">Adding GitHub actions job and secrets<a class="hash-link" href="#adding-github-actions-job-and-secrets" title="Direct link to heading">​</a></h3><p>Once you have added a remote backend to your Terraform and created a service principal, GitHub actions should be configured to deploy resources to Azure using Terraform. We will be using the <a href="https://github.com/hashicorp/setup-terraform" target="_blank" rel="noopener noreferrer">setup-terraform</a> action to run Terraform in github actions</p><ol><li><p>Add the following secrets as your github repository secrets, these are only available to you if you have access to create a service principal so ensure to request these if the service principal is being created for you, (Note: navigate to your Service principal under Active Directory → App registrations → select your app registration and navigate to overview):</p><table><thead><tr><th>Secret name</th><th>Value</th><th>Mandatory?</th></tr></thead><tbody><tr><td><code>AZURE_AD_CLIENT_SECRET</code></td><td>This is the client secret value that was generated for the service principal in section 4 of Create a service.</td><td>YES</td></tr><tr><td><code>AZURE_AD_CLIENT_ID</code></td><td>This is the Application (client) ID</td><td>YES</td></tr><tr><td><code>AZURE_AD_TENANT_ID</code></td><td>This is the Directory (tenant) ID</td><td>YES</td></tr><tr><td><code>AZURE_SUBSCRIPTION_ID</code></td><td>Navigate to subscriptions and select the Subscription ID for your subscription</td><td>YES</td></tr><tr><td><code>STATIC_SITE_NAME</code></td><td>The name of your static site</td><td>YES</td></tr><tr><td><code>CUSTOM_DOMAIN_NAME</code></td><td>The custom domain name you wish to attach to your static site. See <a href="/housing-repairs-online/adoption#notes-adding-a-custom-domain-optional">below</a>.</td><td>NO</td></tr></tbody></table></li><li><p>You will then reference these as environment variables in your github actions workflow. There will be an example provided further down which you can replicate. This allows the setup-terraform action to use the service principal credentials to provision your resources.</p></li><li><p>Add STATE_KEY_NAME as a repository secret. This is the storage account key for your Terraform backend. You can obtain this value if you navigate to Storage accounts, select the storage account for your Terraform backend, select Access Keys, click on show keys and copy the top key value. (Note: These are rotating keys and are subject to change, this tutorial does not investigate how to work around this)</p></li><li><p><a href="https://github.com/Newarkandsherwood/housing-repairs-online-frontend/blob/main/.github/workflows/azure-static-web-apps-purple-desert-05060ea03.yml" target="_blank" rel="noopener noreferrer">This</a> is a link for an example workflow</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-housing-repairs-online-frontend">Deploy housing-repairs-online-frontend<a class="hash-link" href="#deploy-housing-repairs-online-frontend" title="Direct link to heading">​</a></h3><p>Now you have added all the resources that you need in Azure in Terraform, you are ready for the CI to apply the Terraform and deploy. The first CI run will provision the Azure static web app resource (however the deployment will fail and this is expected). Log in to the Azure web portal, navigate to the static webb app you provisioned and copy the <code>Manage deployment token</code> value. Add this to github actions secret with the name <code>AZURE_STATIC_WEB_APPS_API_TOKEN</code>. As you have now added this secret, the deployment should pass successfully on the second run.</p><p>Note: <em>There will be some future work to prevent the manual entry of the AZURE STATIC WEB APPS API TOKEN secret</em></p><p>Once the App has been deployed, and all the API&#x27;s have been deployed, navigate to the static web app, under settings, select configuration. Add the environment variables below.</p><table><thead><tr><th>Secret name</th><th>Description</th></tr></thead><tbody><tr><td><code>REPAIRS_API_BASE_URL</code></td><td>Housing repairs online API URL, this can obtained from the App Service the API was deployed to</td></tr><tr><td><code>REPAIRS_API_IDENTIFIER</code></td><td>A unique identifier used to validate access in production</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="notes-adding-a-custom-domain-optional">Notes: Adding a custom domain (Optional)<a class="hash-link" href="#notes-adding-a-custom-domain-optional" title="Direct link to heading">​</a></h4><p>When creating a static web app, Azure will automatically auto-generate a domain name for the website but if you have a custom domain ready for your site, add the value to the Github secret called <code>CUSTOM_DOMAIN_NAME</code> and this will map a your custom domain to the site.</p><p>When a value for <code>CUSTOM_DOMAIN_NAME</code> is given, terraform will create the <code>azurerm_static_site_custom_domain</code> resource using the given value and attach it to the static web app.</p><p>If you have not given a custom domain, the custom domain resource will not be added.</p><p>Read the <a href="https://learn.microsoft.com/en-us/azure/static-web-apps/custom-domain" target="_blank" rel="noopener noreferrer">Azure guidance</a> and <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/static_site_custom_domain" target="_blank" rel="noopener noreferrer">Terraform guidance</a> for more information on how custom domain names are added to static web apps in Azure.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-the-apis">Deploying the API&#x27;s<a class="hash-link" href="#deploying-the-apis" title="Direct link to heading">​</a></h2><p>Each of the API&#x27;s will be deployed to Azure App service. They will all exist under the same App Service Plan, which will be created manually. To create an App Service Plan, search <code>App service plans</code> on the azure portal, select <code>Create</code>, ensure you select the resource group created above and select an appropriate name for the App Service Plan e.g. <code>housing-repairs-online-{LOCAL_AUTHORITY_NAME}</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-housing-management-system-api">Deploy Housing Management System API<a class="hash-link" href="#deploy-housing-management-system-api" title="Direct link to heading">​</a></h3><p>To deploy the Housing Management System API, you must populate github actions with the following secrets:</p><table><thead><tr><th>Secret name</th><th>Description</th></tr></thead><tbody><tr><td><code>APP_SERVICE_NAME</code></td><td>App Service name (must be unique across whole of Azure), e.g. <code>HousingManagementSystemApi-{LOCAL_AUTHORITY_NAME}</code></td></tr><tr><td><code>SERVICE_PLAN_NAME</code></td><td>App Service Plan name, e.g. <code>housing-repairs-online</code></td></tr><tr><td><code>AUTHENTICATION_IDENTIFIER_PRODUCTION</code></td><td>A unique identifier used to validate access in production</td></tr><tr><td><code>AUTHENTICATION_IDENTIFIER_STAGING</code></td><td>A unique identifier used to validate access in staging</td></tr><tr><td><code>AZURE_AD_CLIENT_SECRET</code></td><td>This is the client secret value that was generated for the service principal in section 4 of Create a service</td></tr><tr><td><code>AZURE_AD_CLIENT_ID</code></td><td>This is the Application (client) ID</td></tr><tr><td><code>AZURE_AD_TENANT_ID</code></td><td>This is the Directory (tenant) ID</td></tr><tr><td><code>AZURE_SUBSCRIPTION_ID</code></td><td>Navigate to subscriptions and select the Subscription ID for your subscription</td></tr><tr><td><code>JWT_SECRET_PRODUCTION</code></td><td>JWT secret generated for for production</td></tr><tr><td><code>JWT_SECRET_STAGING</code></td><td>JWT secret generated for for staging</td></tr><tr><td><code>NUGET_AUTH_GITHUB_TOKEN</code></td><td>Authentication token for authenticating with GitHub NuGet feed</td></tr><tr><td><code>NUGET_AUTH_GITHUB_USERNAME</code></td><td>Username for authenticating with GitHub NuGet feed</td></tr><tr><td><code>SENTRY_DSN</code></td><td><a href="https://docs.sentry.io/product/sentry-basics/dsn-explainer/" target="_blank" rel="noopener noreferrer">Sentry Data Source Name</a></td></tr><tr><td><code>RESOURCE_GROUP_LOCATION</code></td><td>The resource group location housing your Terraform state file, e.g. <code>UK South</code></td></tr><tr><td><code>RESOURCE_GROUP_NAME</code></td><td>The resource group name housing your Terraform state file</td></tr><tr><td><code>STORAGE_ACCOUNT_NAME</code></td><td>The name of the Azure Storage Account to house your Terraform state file</td></tr><tr><td><code>STATE_CONTAINER_NAME</code></td><td>The name of the Azure Blob Storage container to house your Terraform state file</td></tr><tr><td><code>STATE_KEY_NAME</code></td><td>The file path and name of your Terraform state file</td></tr><tr><td><code>COSMOS_DATABASE_ID</code></td><td>DocumentDB (e.g. CosmosDB) database name</td></tr><tr><td><code>COSMOS_TENANT_CONTAINER_ID</code></td><td>DocumentDB (e.g. CosmosDB) container name for tenant addresses, e.g. <code>addresses</code></td></tr><tr><td><code>COSMOS_ENDPOINT_URL</code></td><td>DocumentDB (e.g. CosmosDB) account endpoint URL</td></tr><tr><td><code>COSMOS_AUTHORIZATION_KEY</code></td><td>DocumentDB (e.g. CosmosDB) account primary key</td></tr></tbody></table><p>Once you have entered all of the environment variables, you should rerun the workflow in the <code>main</code> branch. The first run will fail <code>Deploy Staging</code> and <code>Deploy Production</code> step (which is expected, following steps will resolve). However, the <code>Provision Infrastructure</code> step should pass and deploy all the infrastructure.</p><p>Once this is done, we will need to set the <code>AZUREAPPSERVICE_PUBLISHPROFILE_...</code> secrets, by downloading the publish profiles from the Azure web portal setting the secrets to their contents. To do this, navigate to App Services and from here navigate to the housing repairs online API App Service. Click <code>Get publish profile</code> to download the production publish profile. Now click <code>Deployment slots</code> (in the navigation pane on the left) and select the staging slot. Now click <code>Get publish profile</code> to download the staging publish profile.</p><p>Finally, in GitHub actions secrets, set <code>AZUREAPPSERVICE_PUBLISHPROFILE_PRODUCTION</code> and <code>AZUREAPPSERVICE_PUBLISHPROFILE_STAGING</code> to the contents of the respective publish profiles downloaded previously. Once this is complete, you can rerun the workflow and all of the steps should pass.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-scheduling-api">Deploy Scheduling API<a class="hash-link" href="#deploy-scheduling-api" title="Direct link to heading">​</a></h3><p>To deploy the Scheduling API, you must populate the GitHub repository the following secrets:</p><table><thead><tr><th>Secret name</th><th>Description</th></tr></thead><tbody><tr><td><code>APP_SERVICE_NAME</code></td><td>Service name (must be unqiue across whole of Azure) e.g. <code>housing-repairs-scheduling-api-{LOCAL_AUTHORITY_NAME}</code></td></tr><tr><td><code>AUTHENTICATION_IDENTIFIER_PRODUCTION</code></td><td>A unique identifier used to validate access used to validate access in production</td></tr><tr><td><code>AUTHENTICATION_IDENTIFIER_STAGING</code></td><td>A unique identifier used to validate access used to validate access in staging</td></tr><tr><td><code>DRS_API_ADDRESS_PRODUCTION</code></td><td>Live/production DRS API address, e.g. <code>https://yourserver/OTWebServiceGateway_INSTANCENAME/ws/soap?wsdl</code></td></tr><tr><td><code>DRS_API_ADDRESS_STAGING</code></td><td>Test/staging DRS API address, e.g. <code>https://yourserver/OTWebServiceGateway_INSTANCENAME/ws/soap?wsdl</code></td></tr><tr><td><code>DRS_CONTRACT_PRODUCTION</code></td><td>Contract value to use when making requests to DRS in production</td></tr><tr><td><code>DRS_CONTRACT_STAGING</code></td><td>Contract value to use when making requests to DRS in staging</td></tr><tr><td><code>DRS_LOGIN_PRODUCTION</code></td><td>DRS login/user name in production</td></tr><tr><td><code>DRS_LOGIN_STAGING</code></td><td>DRS login/user name in staging</td></tr><tr><td><code>DRS_PASSWORD_PRODUCTION</code></td><td>DRS password in production</td></tr><tr><td><code>DRS_PASSWORD_STAGING</code></td><td>DRS password in staging</td></tr><tr><td><code>DRS_PRIORITY_PRODUCTION</code></td><td>Priority to use when making requests to DRS in production</td></tr><tr><td><code>DRS_PRIORITY_STAGING</code></td><td>Priority to use when making requests to DRS in staging</td></tr><tr><td><code>JWT_SECRET_PRODUCTION</code></td><td>JWT secret generated for production</td></tr><tr><td><code>JWT_SECRET_STAGING</code></td><td>JWT secret generated for staging</td></tr><tr><td><code>NUGET_AUTH_GITHUB_TOKEN</code></td><td>Authentication token for authenticating with GitHub NuGet feed</td></tr><tr><td><code>NUGET_AUTH_GITHUB_USERNAME</code></td><td>Username for authenticating with GitHub NuGet feed</td></tr><tr><td><code>RESOURCE_GROUP_LOCATION</code></td><td>Azure Resource Group location, e.g. <code>UK South</code></td></tr><tr><td><code>RESOURCE_GROUP_NAME</code></td><td>Azure Resource Group name</td></tr><tr><td><code>SENTRY_DSN</code></td><td><a href="https://docs.sentry.io/product/sentry-basics/dsn-explainer/" target="_blank" rel="noopener noreferrer">Sentry Data Source Name</a></td></tr><tr><td><code>SERVICE_PLAN_NAME</code></td><td>Service plan name (must be unique across whole of Azure) e.g. <code>housing-repairs-schduling-api-{LOCAL_AUTHORITY_NAME}</code></td></tr><tr><td><code>STATE_CONTAINER_NAME</code></td><td>The name of the container to store Terraform state in</td></tr><tr><td><code>STATE_KEY_NAME</code></td><td>The file path and name of your Terraform state file</td></tr><tr><td><code>STORAGE_ACCOUNT_NAME</code></td><td>Storage account name for Terraform state, e.g. <code>housing-repairs-online</code></td></tr></tbody></table><p>Once you have entered all of the environment variables, you should re-run the workflow in the <code>main</code> branch. The first run will fail <code>Deploy Staging</code> and <code>Deploy Production</code> step (which is expected, following steps will resolve). However, the <code>Provision Infrastructure</code> step should pass and deploy all the infrastructure.</p><p>Once this is done, we will need to set the <code>AZUREAPPSERVICE_PUBLISHPROFILE_...</code> secrets, by downloading the publish profiles from the Azure web portal setting the secrets to their contents. To do this, navigate to App Services and from here navigate to the housing repairs scheduling API App Service. Click <code>Get publish profile</code> to download the production publish profile. Now click <code>Deployment slots</code> (in the navigation pane on the left) and select the staging slot. Now click <code>Get publish profile</code> to download the staging publish profile.</p><p>Finally, in GitHub actions secrets, set <code>AZUREAPPSERVICE_PUBLISHPROFILE_PRODUCTION</code> and <code>AZUREAPPSERVICE_PUBLISHPROFILE_STAGING</code> to the contents of the respective publish profiles downloaded previously. Once this is complete, you can rerun the workflow and all of the steps should pass.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-housing-repairs-online-api">Deploy housing-repairs-online-api<a class="hash-link" href="#deploy-housing-repairs-online-api" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-action-logs-masking-secrets">Github Action logs Masking Secrets<a class="hash-link" href="#github-action-logs-masking-secrets" title="Direct link to heading">​</a></h4><p>The below secrets must be entered to reduce the risk of them leaking in the Github actions logs when debug logging is enabled. In github actions, we use masks to obscure secrets. The values of these secrets can be obtained from their Cloud resources dashboard, once the Terraform deploy is run for the first time.  </p><blockquote><p>⚠ WARNING:  <strong>Without the below secrets saved in Github, you will not be able to use Github action&#x27;s mask command with the secret. Github action&#x27;s mask command need to be explicitly told each secret it should obscure in logs. Any values in the app settings config not saved as a Github secret will have the risk of being publically exposed whenever the deploy job is run with debug enabled.</strong></p></blockquote><p>Populate github secrets with the following values so that we can add the use the masking commands on them. <strong>Do this before deploying the app with it&#x27;s publish profile.</strong></p><table><thead><tr><th>Secret name</th><th>Description</th></tr></thead><tbody><tr><td><code>COSMOS_CONTAINER_NAME_PRODUCTION</code></td><td>DocumentDB (e.g. CosmosDB) container name for <em>Production</em>, e.g. <code>housing-repairs-online-production</code></td></tr><tr><td><code>COSMOS_CONTAINER_NAME_STAGING</code></td><td>DocumentDB (e.g. CosmosDB) container name for <em>Staging</em>, e.g. <code>housing-repairs-online-staging</code></td></tr><tr><td><code>COSMOS_ACCOUNT_PRIMARY_KEY</code></td><td>DocumentDB (e.g. CosmosDB) account primary key</td></tr><tr><td><code>COSMOS_DATABASE_NAME_PRODUCTION</code></td><td>DocumentDB (e.g. CosmosDB) database name for <em>Production</em>, e.g. <code>housing-repairs-production</code></td></tr><tr><td><code>COSMOS_DATABASE_NAME_STAGING</code></td><td>DocumentDB (e.g. CosmosDB) database name for <em>Staging</em>, e.g. <code>housing-repairs-staging</code></td></tr><tr><td><code>COSMOS_ACCOUNT_ENDPOINT</code></td><td>DocumentDB (e.g. CosmosDB) account endpoint URL</td></tr><tr><td><code>STORAGE_ACCOUNT_PRIMARY_CONNECTION_STRING</code></td><td>Storage account primary connection string</td></tr></tbody></table><p>To deploy the housing repairs api, you must first deploy <code>HousingRepairsSchedulingApi</code> and <code>HousingManagementSystemApi</code>. Once this has been deployed, populate github actions with the following secrets:</p><table><thead><tr><th>Secret name</th><th>Description</th></tr></thead><tbody><tr><td><code>ADDRESSES_API_URL_PRODUCTION</code></td><td>Retrieve from App Service once HousingManagementSystemApi is deployed</td></tr><tr><td><code>ADDRESSES_API_URL_STAGING</code></td><td>Retrieve from App Service <em>Staging</em> slot once HousingManagementSystemApi is deployed</td></tr><tr><td><code>SCHEDULING_API_URL_PRODUCTION</code></td><td>Retrieve from App Service once HousingRepairsSchedulingApi is deployed</td></tr><tr><td><code>SCHEDULING_API_URL_STAGING</code></td><td>Retrieve from App Service <em>Staging</em> slot once HousingRepairsSchedulingApi is deployed</td></tr><tr><td><code>AUTHENTICATION_IDENTIFIER_PRODUCTION</code></td><td>A unique identifier used to validate access for <em>Production</em></td></tr><tr><td><code>AUTHENTICATION_IDENTIFIER_STAGING</code></td><td>A unique identifier used to validate access for <em>Staging</em></td></tr><tr><td><code>CONFIRMATION_EMAIL_NOTIFY_TEMPLATE_ID</code></td><td>Gov notify email template ID, this is available once the template is created</td></tr><tr><td><code>CONFIRMATION_SMS_NOTIFY_TEMPLATE_ID</code></td><td>Gov notify sms template ID, this is available once the template is created</td></tr><tr><td><code>DAYS_UNTIL_IMAGE_EXPIRY_PRODUCTION</code></td><td>Number in days before image uploaded by customer expires for <em>Production</em>, e.g. <code>14</code> days</td></tr><tr><td><code>DAYS_UNTIL_IMAGE_EXPIRY_STAGING</code></td><td>Number in days before image uploaded by customer expires for <em>Staging</em>, e.g. <code>14</code> days</td></tr><tr><td><code>GOV_NOTIFY_KEY_PRODUCTION</code></td><td><em>Staging</em> gov notify key</td></tr><tr><td><code>GOV_NOTIFY_KEY_STAGING</code></td><td><em>Production</em> gov notify key</td></tr><tr><td><code>INTERNAL_EMAIL_PRODUCTION</code></td><td>Internal email address for receiving repair request details, for any manual follow-on process in <em>Production</em></td></tr><tr><td><code>INTERNAL_EMAIL_STAGING</code></td><td>Internal email address for receiving repair request details, for any manual follow-on process in <em>Staging</em></td></tr><tr><td><code>INTERNAL_EMAIL_NOTIFY_TEMPLATE_ID</code></td><td>Gov notify internal email template ID, this is available once the template is created</td></tr><tr><td><code>JWT_SECRET_PRODUCTION</code></td><td>JWT secret generated for for <em>Production</em></td></tr><tr><td><code>JWT_SECRET_STAGING</code></td><td>JWT secret generated for for <em>Staging</em></td></tr><tr><td><code>NUGET_AUTH_GITHUB_TOKEN</code></td><td>Authentication token for authenticating with GitHub NuGet feed</td></tr><tr><td><code>NUGET_AUTH_GITHUB_USERNAME</code></td><td>Username for authenticating with GitHub NuGet feed</td></tr><tr><td><code>SENTRY_DSN</code></td><td><a href="https://docs.sentry.io/product/sentry-basics/dsn-explainer/" target="_blank" rel="noopener noreferrer">Sentry Data Source Name</a></td></tr><tr><td><code>SERVICE_NAME</code></td><td>Service name (must be unique across whole of Azure) e.g. <code>housing-repairs-online-api-{LOCAL_AUTHORITY_NAME}</code></td></tr><tr><td><code>SOR_CONFIG_PRODUCTION</code></td><td>SOR codes in JSON format for <em>Production</em></td></tr><tr><td><code>SOR_CONFIG_STAGING</code></td><td>SOR codes in JSON format for <em>Staging</em></td></tr><tr><td><code>STATE_KEY_NAME</code></td><td>The file path and name of your Terraform state file</td></tr><tr><td><code>STORAGE_CONTAINER_NAME_PRODUCTION</code></td><td>Storage container name for <em>Production</em>, e.g. <code>housing-repairs-online</code></td></tr><tr><td><code>STORAGE_CONTAINER_NAME_STAGING</code></td><td>Storage container name for <em>Staging</em>, e.g. <code>housing-repairs-online-staging</code></td></tr></tbody></table><p>Once you have entered all of the environment variables, you should rerun the workflow in the <code>main</code> branch. The first run will fail <code>Deploy Staging</code> and <code>Deploy Production</code> step (which is expected, following steps will resolve). However, the <code>Provision Infrastructure</code> step should pass and deploy all the infrastructure.</p><p>Once this is done, we will need to set the <code>AZUREAPPSERVICE_PUBLISHPROFILE_...</code> secrets, by downloading the publish profiles from the Azure web portal setting the secrets to their contents. To do this, navigate to App Services and from here navigate to the housing repairs online API App Service. Click <code>Get publish profile</code> to download the production publish profile. Now click <code>Deployment slots</code> (in the navigation pane on the left) and select the staging slot. Now click <code>Get publish profile</code> to download the staging publish profile.</p><p>Finally, in GitHub actions secrets, set <code>AZUREAPPSERVICE_PUBLISHPROFILE_PRODUCTION</code> and <code>AZUREAPPSERVICE_PUBLISHPROFILE_STAGING</code> to the contents of the respective publish profiles downloaded previously. Once this is complete, you can rerun the workflow and all of the steps should pass.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration">Integration<a class="hash-link" href="#integration" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="components">Components<a class="hash-link" href="#components" title="Direct link to heading">​</a></h3><p>Some of the Housing Repairs Online components will need to integrate to one another.
This is by means of setting environment variables which is detailed within the documentation for each component.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-systems">3rd Party Systems<a class="hash-link" href="#3rd-party-systems" title="Direct link to heading">​</a></h3><p>Connectivity needs to be establish to each 3rd party system requiring integration.</p><p>Each component would require access to the system it is integrating with, i.e. Housing Management System API needs Housing Management System (i.e. Universal Housing) connectivity.</p><p>If data is stored on premise, a VPN or other datalink should be setup so that cloud deployed infrastructure has visibility of on premise infrastructure.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="alerting--monitoring">Alerting &amp; Monitoring<a class="hash-link" href="#alerting--monitoring" title="Direct link to heading">​</a></h3><p>See <a href="/housing-repairs-online/alerting-and-monitoring/intro">Alerting &amp; Monitoring</a> for details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">​</a></h2><p>Each component&#x27;s configuration is outlined in their own specific documentation.</p><p>Please refer to this documentation to configure each component.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentation">Documentation<a class="hash-link" href="#documentation" title="Direct link to heading">​</a></h3><p>This documentation uses <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a> and is generated via Github actions.</p><p>After the <a href="https://github.com/City-of-Lincoln-Council/housing-repairs-online" target="_blank" rel="noopener noreferrer">housing-repairs-online</a> repository has been cloned/forked, follow these steps to ensure GitHub regenerates documentation when changes are made:</p><ul><li>Set the branch to use for GitHub pages to <code>gh-pages</code> (<a href="https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site" target="_blank" rel="noopener noreferrer">see here</a>)</li><li>Configure the repository by adding a Deploy Key and <code>ACTIONS_DEPLOY_KEY</code> Secret (<a href="https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-create-ssh-deploy-key" target="_blank" rel="noopener noreferrer">see here</a>)</li></ul><div class="footnotes"><hr><ol><li id="fn-1">When creating resource in Azure, if using Github integration, some of these secrets will be automatically added to the repository.<a href="#fnref-1" class="footnote-backref">↩</a></li><li id="fn-2">If you are not ready to add a custom domain, the site will continue to use the auto generated Azure domain. Add the custom domain when this is ready and it will be mapped to the site.<a href="#fnref-2" class="footnote-backref">↩</a></li></ol></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/adoption.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/housing-repairs-online/alerting-and-monitoring/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Alerting &amp; Montoring</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/housing-repairs-online/category/spikes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spikes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#code-repositories" class="table-of-contents__link toc-highlight">Code Repositories</a></li><li><a href="#nugets" class="table-of-contents__link toc-highlight">Nugets</a></li><li><a href="#infrastructure" class="table-of-contents__link toc-highlight">Infrastructure</a><ul><li><a href="#apis" class="table-of-contents__link toc-highlight">APIs</a></li><li><a href="#frontend" class="table-of-contents__link toc-highlight">Frontend</a></li></ul></li><li><a href="#deploying-to-azure" class="table-of-contents__link toc-highlight">Deploying to Azure</a><ul><li><a href="#create-a-service-principal" class="table-of-contents__link toc-highlight">Create a service principal</a></li><li><a href="#terraform-state-storage" class="table-of-contents__link toc-highlight">Terraform state storage</a></li><li><a href="#adding-github-actions-job-and-secrets" class="table-of-contents__link toc-highlight">Adding GitHub actions job and secrets</a></li><li><a href="#deploy-housing-repairs-online-frontend" class="table-of-contents__link toc-highlight">Deploy housing-repairs-online-frontend</a></li></ul></li><li><a href="#deploying-the-apis" class="table-of-contents__link toc-highlight">Deploying the API&#39;s</a><ul><li><a href="#deploy-housing-management-system-api" class="table-of-contents__link toc-highlight">Deploy Housing Management System API</a></li><li><a href="#deploy-scheduling-api" class="table-of-contents__link toc-highlight">Deploy Scheduling API</a></li><li><a href="#deploy-housing-repairs-online-api" class="table-of-contents__link toc-highlight">Deploy housing-repairs-online-api</a></li></ul></li><li><a href="#integration" class="table-of-contents__link toc-highlight">Integration</a><ul><li><a href="#components" class="table-of-contents__link toc-highlight">Components</a></li><li><a href="#3rd-party-systems" class="table-of-contents__link toc-highlight">3rd Party Systems</a></li><li><a href="#alerting--monitoring" class="table-of-contents__link toc-highlight">Alerting &amp; Monitoring</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#documentation" class="table-of-contents__link toc-highlight">Documentation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/housing-repairs-online/">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://repairsonlinedigitalfund.com/about/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Our Approach<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://repairsonlinedigitalfund.com/project-background/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project background<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://repairsonlinedigitalfund.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/City-of-Lincoln-Council/housing-repairs-online" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Built with Docusaurus.</div></div></div></footer></div>
<script src="/housing-repairs-online/assets/js/runtime~main.8dfc1bf0.js"></script>
<script src="/housing-repairs-online/assets/js/main.429b1ddb.js"></script>
</body>
</html>